import{l as V,u as S,o as b,g as y,a as s,b as t,w as i,F as A,H as j,d as e,f as N,B as h,a1 as w,e as c,k as U,t as m}from"./app-70664ce5.js";import{_ as H}from"./AuthenticatedLayout-7218084b.js";import{_ as u,a as p}from"./InputLabel-0e70ad70.js";import{_ as f}from"./TextInput-0f70c7d0.js";import{_ as k}from"./PrimaryButton-d956092d.js";import{_ as C}from"./SecondaryButton-96e240d5.js";import{_ as L}from"./DangerButton-b870c372.js";import{_ as $}from"./Modal-f5f9970d.js";import"./ApplicationLogo-90ba1c1f.js";import"./_plugin-vue_export-helper-c27b6911.js";const T=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Manage WhatsApp Numbers ",-1),Y={class:"py-12"},z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6 mb-6"},J=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Add New WhatsApp Number ",-1),K=["onSubmit"],O={class:"flex items-center"},Q={class:"flex items-center"},R={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6"},Z=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," WhatsApp Numbers ",-1),ee={class:"overflow-x-auto"},se={class:"min-w-full divide-y divide-gray-200"},te=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Number "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Port "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Address "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Personal "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1),ae={class:"bg-white divide-y divide-gray-200"},le={class:"px-6 py-4 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4 whitespace-nowrap"},ne={class:"px-6 py-4 whitespace-nowrap"},re={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4 whitespace-nowrap"},ue={class:"px-6 py-4 whitespace-nowrap"},me={class:"p-6"},ce={class:"text-lg font-medium text-gray-900 mb-4"},pe=["onSubmit"],fe={class:"max-h-60 overflow-y-auto"},ge=["id","value"],ve=["for"],_e={class:"mt-4 flex justify-end"},xe={class:"p-6"},be={class:"text-lg font-medium text-gray-900 mb-4"},ye=["onSubmit"],he={class:"flex items-center"},we={class:"flex items-center"},ke={class:"mt-4 flex justify-end"},qe={__name:"Manage",props:{whatsappNumbers:Array,users:Array},setup(P){const v=V(!1),_=V(!1),g=V(null),n=S({name:"",number:"",port:"",address:"",canSendPersonal:!1,isActive:!0}),o=S({name:"",number:"",port:"",address:"",canSendPersonal:!1,isActive:!0}),x=S({user_ids:[]});function M(r){g.value=r,x.user_ids=r.users.map(a=>a.id),v.value=!0}function E(r){g.value=r,o.name=r.name,o.number=r.number,o.port=r.port,o.address=r.address,o.canSendPersonal=r.canSendPersonal,o.isActive=r.isActive,_.value=!0}const q=()=>{n.post(route("whatsapp.numbers.store"),{onSuccess:()=>{n.reset()}})},F=()=>{x.put(route("whatsapp.numbers.users.update",g.value.id),{onSuccess:()=>{v.value=!1}})},W=()=>{o.put(route("whatsapp.numbers.update",g.value.id),{onSuccess:()=>{_.value=!1}})},B=S({});function D(r){confirm("Are you sure you want to delete this number?")&&B.delete(route("whatsapp.numbers.destroy",r),{onSuccess:()=>{},onError:()=>{}})}return(r,a)=>(b(),y(A,null,[s(t(j),{title:"Manage WhatsApp Numbers"}),s(H,null,{header:i(()=>[T]),default:i(()=>[e("div",Y,[e("div",z,[e("div",G,[J,e("form",{onSubmit:N(q,["prevent"]),class:"mt-6 space-y-6"},[e("div",null,[s(u,{for:"name",value:"Name"}),s(f,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(n).name,"onUpdate:modelValue":a[0]||(a[0]=l=>t(n).name=l),required:""},null,8,["modelValue"]),s(p,{message:t(n).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"number",value:"Number"}),s(f,{id:"number",type:"text",class:"mt-1 block w-full",modelValue:t(n).number,"onUpdate:modelValue":a[1]||(a[1]=l=>t(n).number=l),required:""},null,8,["modelValue"]),s(p,{message:t(n).errors.number,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"port",value:"Port"}),s(f,{id:"port",type:"text",class:"mt-1 block w-full",modelValue:t(n).port,"onUpdate:modelValue":a[2]||(a[2]=l=>t(n).port=l),required:""},null,8,["modelValue"]),s(p,{message:t(n).errors.port,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"address",value:"Address"}),s(f,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:t(n).address,"onUpdate:modelValue":a[3]||(a[3]=l=>t(n).address=l)},null,8,["modelValue"]),s(p,{message:t(n).errors.address,class:"mt-2"},null,8,["message"])]),e("div",O,[h(e("input",{type:"checkbox",id:"isActive","onUpdate:modelValue":a[4]||(a[4]=l=>t(n).isActive=l),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,512),[[w,t(n).isActive]]),s(u,{for:"isActive",value:"Is Active",class:"ml-2"})]),e("div",Q,[h(e("input",{type:"checkbox",id:"canSendPersonal","onUpdate:modelValue":a[5]||(a[5]=l=>t(n).canSendPersonal=l),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,512),[[w,t(n).canSendPersonal]]),s(u,{for:"canSendPersonal",value:"Can Send Personal Messages",class:"ml-2"})]),s(k,{disabled:t(n).processing},{default:i(()=>[c("Add Number")]),_:1},8,["disabled"])],40,K)]),e("div",R,[e("div",X,[Z,e("div",ee,[e("table",se,[te,e("tbody",ae,[(b(!0),y(A,null,U(P.whatsappNumbers,l=>(b(),y("tr",{key:l.id},[e("td",le,m(l.name),1),e("td",oe,m(l.number),1),e("td",de,m(l.port),1),e("td",ne,m(l.address),1),e("td",re,m(l.canSendPersonal?"Yes":"No"),1),e("td",ie,m(l.isActive?"Active":"Inactive"),1),e("td",ue,[s(k,{class:"mr-2",onClick:d=>E(l)},{default:i(()=>[c(" Edit ")]),_:2},1032,["onClick"]),s(k,{class:"mr-2",onClick:d=>M(l)},{default:i(()=>[c(" Manage Users ")]),_:2},1032,["onClick"]),s(L,{onClick:d=>D(l.id)},{default:i(()=>[c(" Delete ")]),_:2},1032,["onClick"])])]))),128))])])])])])])]),s($,{show:v.value,onClose:a[8]||(a[8]=l=>v.value=!1)},{default:i(()=>{var l;return[e("div",me,[e("h2",ce," Manage Users for "+m((l=g.value)==null?void 0:l.name),1),e("form",{onSubmit:N(F,["prevent"])},[e("div",fe,[(b(!0),y(A,null,U(P.users,d=>(b(),y("div",{key:d.id,class:"flex items-center mb-2 ml-2"},[h(e("input",{type:"checkbox",id:"user_"+d.id,"onUpdate:modelValue":a[6]||(a[6]=I=>t(x).user_ids=I),value:d.id,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,ge),[[w,t(x).user_ids]]),e("label",{for:"user_"+d.id,class:"ml-2"},m(d.name),9,ve)]))),128))]),e("div",_e,[s(C,{class:"mr-2",onClick:a[7]||(a[7]=d=>v.value=!1)},{default:i(()=>[c(" Cancel ")]),_:1}),s(k,{disabled:t(x).processing},{default:i(()=>[c(" Save ")]),_:1},8,["disabled"])])],40,pe)])]}),_:1},8,["show"]),s($,{show:_.value,onClose:a[16]||(a[16]=l=>_.value=!1)},{default:i(()=>{var l;return[e("div",xe,[e("h2",be," Edit WhatsApp Number: "+m((l=g.value)==null?void 0:l.name),1),e("form",{onSubmit:N(W,["prevent"]),class:"space-y-6"},[e("div",null,[s(u,{for:"edit_name",value:"Name"}),s(f,{id:"edit_name",type:"text",class:"mt-1 block w-full",modelValue:t(o).name,"onUpdate:modelValue":a[9]||(a[9]=d=>t(o).name=d),required:""},null,8,["modelValue"]),s(p,{message:t(o).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"edit_number",value:"Number"}),s(f,{id:"edit_number",type:"text",class:"mt-1 block w-full",modelValue:t(o).number,"onUpdate:modelValue":a[10]||(a[10]=d=>t(o).number=d),required:""},null,8,["modelValue"]),s(p,{message:t(o).errors.number,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"edit_port",value:"Port"}),s(f,{id:"edit_port",type:"text",class:"mt-1 block w-full",modelValue:t(o).port,"onUpdate:modelValue":a[11]||(a[11]=d=>t(o).port=d),required:""},null,8,["modelValue"]),s(p,{message:t(o).errors.port,class:"mt-2"},null,8,["message"])]),e("div",null,[s(u,{for:"edit_address",value:"Address"}),s(f,{id:"edit_address",type:"text",class:"mt-1 block w-full",modelValue:t(o).address,"onUpdate:modelValue":a[12]||(a[12]=d=>t(o).address=d)},null,8,["modelValue"]),s(p,{message:t(o).errors.address,class:"mt-2"},null,8,["message"])]),e("div",he,[h(e("input",{type:"checkbox",id:"edit_isActive","onUpdate:modelValue":a[13]||(a[13]=d=>t(o).isActive=d),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,512),[[w,t(o).isActive]]),s(u,{for:"edit_isActive",value:"Is Active",class:"ml-2"})]),e("div",we,[h(e("input",{type:"checkbox",id:"edit_canSendPersonal","onUpdate:modelValue":a[14]||(a[14]=d=>t(o).canSendPersonal=d),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,512),[[w,t(o).canSendPersonal]]),s(u,{for:"edit_canSendPersonal",value:"Can Send Personal Messages",class:"ml-2"})]),e("div",ke,[s(C,{class:"mr-2",onClick:a[15]||(a[15]=d=>_.value=!1)},{default:i(()=>[c(" Cancel ")]),_:1}),s(k,{disabled:t(o).processing},{default:i(()=>[c(" Save Changes ")]),_:1},8,["disabled"])])],40,ye)])]}),_:1},8,["show"])]),_:1})],64))}};export{qe as default};
