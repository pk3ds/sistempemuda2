import{u as b,o as m,g as u,a as e,b as s,w as n,F as v,H as k,e as p,h,d as l,f as C,k as U,t as z,c as $,A as H}from"./app-0f879bd6.js";import{_ as B}from"./AuthenticatedLayout-1dff01db.js";import{_ as c,a as f}from"./InputLabel-386f6823.js";import{_}from"./TextInput-b785b986.js";import{_ as q}from"./SelectInput-e237c28d.js";import{_ as E}from"./PrimaryButton-2486db8f.js";import{_ as x}from"./SecondaryButton-c6af0c1b.js";import{A as M}from"./Accordion-431fb5d1.js";import"./ApplicationLogo-429fb7ab.js";import"./_plugin-vue_export-helper-c27b6911.js";const N={key:0,class:"bg-yellow-100 rounded-b-lg py-5 px-6 mb-3 text-base text-yellow-700 inline-flex items-center w-full",role:"alert"},j=l("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[l("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"})],-1),A={class:"pt-8 pb-2"},F={class:"mt-4 md:mt-0 max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},L={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},S=l("span",{class:"font-semibold text-lg my-2"},"Edit User",-1),O={class:"flex justify-between"},P=l("span",null,[l("p",{class:"mt-1 text-sm text-gray-600"}," View or edit users for the event. ")],-1),R={key:0,class:"mt-1 text-gray-600"},T=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"45",height:"45",fill:"currentColor"},[l("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})],-1),D=[T],G=["value"],I={class:"flex items-center gap-4"},te={__name:"Edit",props:{user:Object,roles:Object},setup(r){var g,w;const d=r;function y(){window.history.back()}function V(){H.put(route("users.reset",d.user)).then(i=>{console.log(i.data)}).catch(i=>{console.log(i.response.status)})}const t=b({name:d.user.name,username:d.user.username,email:d.user.email,phone:d.user.phone,role_id:(w=(g=d.user.roles)==null?void 0:g[0])==null?void 0:w.id});return(i,o)=>(m(),u(v,null,[e(s(k),{title:"Edit User"}),e(B,null,{default:n(()=>[r.user.deleted_at?(m(),u("div",N,[j,p(" This user has been deleted from the system, all records are for viewing only ")])):h("",!0),l("div",A,[l("div",F,[l("div",L,[e(M,null,{title:n(()=>[S]),content:n(()=>[l("section",null,[l("header",null,[l("div",O,[P,r.user.deleted_at?(m(),u("span",R,D)):h("",!0)])]),l("form",{onSubmit:o[5]||(o[5]=C(a=>s(t).patch(i.route("users.update",r.user)),["prevent"])),class:"mt-6 space-y-6"},[l("div",null,[e(c,{for:"name",value:"Name"}),e(_,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(t).name,"onUpdate:modelValue":o[0]||(o[0]=a=>s(t).name=a),required:"",readonly:r.user.deleted_at,autofocus:"",autocomplete:"name"},null,8,["modelValue","readonly"]),e(f,{class:"mt-2",message:s(t).errors.name},null,8,["message"])]),l("div",null,[e(c,{for:"username",value:"Username"}),e(_,{id:"username",type:"text",class:"mt-1 block w-full",modelValue:s(t).username,"onUpdate:modelValue":o[1]||(o[1]=a=>s(t).username=a),readonly:r.user.deleted_at,required:"",autocomplete:"username"},null,8,["modelValue","readonly"]),e(f,{class:"mt-2",message:s(t).errors.username},null,8,["message"])]),l("div",null,[e(c,{for:"email",value:"Email"}),e(_,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(t).email,"onUpdate:modelValue":o[2]||(o[2]=a=>s(t).email=a),readonly:r.user.deleted_at,required:"",autocomplete:"email"},null,8,["modelValue","readonly"]),e(f,{class:"mt-2",message:s(t).errors.email},null,8,["message"])]),l("div",null,[e(c,{for:"phone",value:"Phone"}),e(_,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:s(t).phone,"onUpdate:modelValue":o[3]||(o[3]=a=>s(t).phone=a),readonly:r.user.deleted_at,autocomplete:"phone",required:""},null,8,["modelValue","readonly"]),e(f,{class:"mt-2",message:s(t).errors.phone},null,8,["message"])]),l("div",null,[e(c,{for:"role_id",value:"Role"}),e(q,{id:"role_id",class:"mt-1 block w-full",modelValue:s(t).role_id,"onUpdate:modelValue":o[4]||(o[4]=a=>s(t).role_id=a),required:"",disabled:r.user.deleted_at},{default:n(()=>[(m(!0),u(v,null,U(r.roles,a=>(m(),u("option",{value:a.id},z(a.name),9,G))),256))]),_:1},8,["modelValue","disabled"]),e(f,{class:"mt-2",message:s(t).errors.role_id},null,8,["message"])]),l("div",I,[r.user.deleted_at?h("",!0):(m(),$(E,{key:0,disabled:s(t).processing},{default:n(()=>[p("Update ")]),_:1},8,["disabled"])),e(x,{onClick:V},{default:n(()=>[p(" Reset Password ")]),_:1}),e(x,{onClick:y},{default:n(()=>[p(" Cancel ")]),_:1})])],32)])]),_:1})])])])]),_:1})],64))}};export{te as default};
