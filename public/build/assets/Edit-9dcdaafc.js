import{_ as C}from"./AuthenticatedLayout-aa0821bf.js";import{a as L,_ as B}from"./InputLabel-60461312.js";import{_ as U}from"./TextInput-6e3e77d2.js";import{_ as H}from"./SelectInput-d5490c6e.js";import{_ as M}from"./PrimaryButton-3fc853e0.js";import{_ as R}from"./SecondaryButton-671ca523.js";import{A as z}from"./Accordion-cc35f36c.js";import{L as E,H as T,r as i,o as n,g as m,a as s,w as a,F as f,e as h,h as _,d as e,f as j,k as y,t as p,c as k}from"./app-3d807719.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-9a0dcfb4.js";const N={components:{AuthenticatedLayout:C,InputError:L,InputLabel:B,TextInput:U,SelectInput:H,PrimaryButton:M,SecondaryButton:R,Link:E,Head:T,Accordion:z},props:{award:Object,meetings:Object,groups:Object,users:Object},remember:"form",data(){return{recipients:[],form:this.$inertia.form({meeting_id:this.award.meeting_id,name:this.award.name,remark:this.award.remark,points:this.award.points,recipient_type:this.replaceSlash(this.award.awardable_type),recipient_id:this.award.awardable_id})}},mounted(){this.loadRecipients(this.replaceSlash(this.award.awardable_type))},methods:{replaceSlash(d){return encodeURI(d).replaceAll("%5C","")},loadRecipients(d){d==="AppModelsGroup"?this.recipients=this.groups:d==="AppModelsUser"&&(this.recipients=this.users)},back(){window.history.back()},formatDate(d){return new Intl.DateTimeFormat("en-my",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Kuala_Lumpur",hour12:!1}).format(new Date(d))}}},P={key:0,class:"bg-yellow-100 rounded-b-lg py-5 px-6 mb-3 text-base text-yellow-700 inline-flex items-center w-full",role:"alert"},O=e("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"w-4 h-4 mr-2 fill-current",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[e("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"})],-1),F={class:"pt-8 pb-2"},q={class:"mt-4 md:mt-0 max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},G={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},K=e("span",{class:"font-semibold text-lg my-2"},"Edit Award",-1),Z={class:"flex justify-between"},J=e("span",null,[e("p",{class:"mt-1 text-sm text-gray-600"}," View or edit awards given. ")],-1),Q={key:0,class:"mt-1 text-gray-600"},W=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"45",height:"45",fill:"currentColor"},[e("path",{d:"M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"})],-1),X=[W],Y=["value"],$=e("option",{value:"AppModelsGroup"},"Contingent",-1),ee=e("option",{value:"AppModelsUser"},"User",-1),te={key:0},se=["value"],oe={class:"flex items-center gap-4"},le={class:"pt-8 pb-2"},ne={class:"mt-4 md:mt-0 max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},ae={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},re=e("span",{class:"font-semibold text-lg my-2"},"Points History",-1),ie={class:"border-l-2 border-blue-600"},me={class:"flex flex-start items-center"},de=e("div",{class:"bg-blue-600 w-4 h-4 flex items-center justify-center rounded-full -ml-2 mr-3 -mt-2"},null,-1),ce={class:"text-gray-800 font-semibold text-md -mt-2"},ue={class:"ml-6 mb-1"},_e={class:"text-blue-600 hover:text-blue-700 focus:text-blue-800 duration-300 transition ease-in-out text-sm"},pe={class:"text-gray-700 mt-2 mb-4"};function fe(d,l,r,he,o,w){const V=i("Head"),c=i("InputLabel"),g=i("TextInput"),u=i("InputError"),b=i("SelectInput"),x=i("PrimaryButton"),A=i("SecondaryButton"),v=i("Accordion"),I=i("Link"),S=i("AuthenticatedLayout");return n(),m(f,null,[s(V,{title:"Edit Award"}),s(S,null,{default:a(()=>[r.award.deleted_at?(n(),m("div",P,[O,h(" This award has been deleted from the system, all records are for viewing only ")])):_("",!0),e("div",F,[e("div",q,[e("div",G,[s(v,null,{title:a(()=>[K]),content:a(()=>[e("section",null,[e("header",null,[e("div",Z,[J,r.award.deleted_at?(n(),m("span",Q,X)):_("",!0)])]),e("form",{onSubmit:l[7]||(l[7]=j(t=>o.form.patch(d.route("awards.update",r.award)),["prevent"])),class:"mt-6 space-y-6"},[e("div",null,[s(c,{for:"name",value:"Name"}),s(g,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:o.form.name,"onUpdate:modelValue":l[0]||(l[0]=t=>o.form.name=t),required:"",autofocus:"",autocomplete:"name",readonly:r.award.deleted_at},null,8,["modelValue","readonly"]),s(u,{class:"mt-2",message:o.form.errors.name},null,8,["message"])]),e("div",null,[s(c,{for:"remark",value:"Remark"}),s(g,{id:"remark",type:"text",class:"mt-1 block w-full",modelValue:o.form.remark,"onUpdate:modelValue":l[1]||(l[1]=t=>o.form.remark=t),autocomplete:"remark",readonly:r.award.deleted_at},null,8,["modelValue","readonly"]),s(u,{class:"mt-2",message:o.form.errors.remark},null,8,["message"])]),e("div",null,[s(c,{for:"points",value:"Points"}),s(g,{id:"points",type:"number",class:"mt-1 block w-full",modelValue:o.form.points,"onUpdate:modelValue":l[2]||(l[2]=t=>o.form.points=t),required:"",autocomplete:"points",readonly:r.award.deleted_at},null,8,["modelValue","readonly"]),s(u,{class:"mt-2",message:o.form.errors.points},null,8,["message"])]),e("div",null,[s(c,{for:"meeting_id",value:"Session"}),s(b,{id:"meeting_id",class:"mt-1 block w-full",modelValue:o.form.meeting_id,"onUpdate:modelValue":l[3]||(l[3]=t=>o.form.meeting_id=t),disabled:r.award.deleted_at},{default:a(()=>[(n(!0),m(f,null,y(r.meetings,t=>(n(),m("option",{value:t.id},p(t.name),9,Y))),256))]),_:1},8,["modelValue","disabled"]),s(u,{class:"mt-2",message:o.form.errors.meeting_id},null,8,["message"])]),e("div",null,[s(c,{for:"recipient_type",value:"Recipient Type (Readonly)"}),s(b,{id:"recipient_type",class:"mt-1 block w-full",modelValue:o.form.recipient_type,"onUpdate:modelValue":l[4]||(l[4]=t=>o.form.recipient_type=t),disabled:"",onChange:l[5]||(l[5]=t=>w.loadRecipients(o.form.recipient_type))},{default:a(()=>[$,ee]),_:1},8,["modelValue"]),s(u,{class:"mt-2",message:o.form.errors.recipient_type},null,8,["message"])]),o.recipients.length!==0?(n(),m("div",te,[s(c,{for:"recipient_id",value:"Recipient (Readonly)"}),s(b,{id:"recipient_id",class:"mt-1 block w-full",modelValue:o.form.recipient_id,"onUpdate:modelValue":l[6]||(l[6]=t=>o.form.recipient_id=t),disabled:""},{default:a(()=>[(n(!0),m(f,null,y(o.recipients,t=>(n(),m("option",{value:t.id},p(t.name),9,se))),256))]),_:1},8,["modelValue"]),s(u,{class:"mt-2",message:o.form.errors.recipient_id},null,8,["message"])])):_("",!0),e("div",oe,[r.award.deleted_at?_("",!0):(n(),k(x,{key:0,disabled:o.form.processing},{default:a(()=>[h("Update ")]),_:1},8,["disabled"])),s(A,{onClick:w.back},{default:a(()=>[h(" Cancel ")]),_:1},8,["onClick"])])],32)])]),_:1})])])]),e("div",le,[e("div",ne,[e("div",ae,[s(v,null,{title:a(()=>[re]),content:a(()=>[e("ol",ie,[(n(!0),m(f,null,y(r.award.histories,t=>(n(),m("li",null,[e("div",me,[de,e("h4",ce,p(t.points),1)]),e("div",ue,[e("span",_e,p(w.formatDate(t.created_at)),1),e("p",pe,p(t.remark),1),t.link?(n(),k(x,{key:0},{default:a(()=>[s(I,{href:t.link},{default:a(()=>[h("View Info")]),_:2},1032,["href"])]),_:2},1024)):_("",!0)])]))),256))])]),_:1})])])])]),_:1})],64)}const Se=D(N,[["render",fe]]);export{Se as default};
