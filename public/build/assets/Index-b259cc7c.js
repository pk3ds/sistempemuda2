import{l as N,v as C,o as u,g as i,u as B,a,b as s,w as g,F as k,H as U,d as r,f as q,k as A,e as w,t as M,h as c}from"./app-d499e920.js";import{_ as O}from"./AuthenticatedLayout-6e683d8c.js";import{_ as d,a as p}from"./InputLabel-e4a22d2d.js";import{_ as $}from"./SelectInput-095dc1a6.js";import{_ as S}from"./TextInput-f4d3d1c9.js";import{_ as F}from"./PrimaryButton-58f41f66.js";import{_ as I}from"./SecondaryButton-97e110e3.js";/* empty css             */import{_ as H}from"./FileInput-8f4374fb.js";import"./ApplicationLogo-6cead0cc.js";import"./_plugin-vue_export-helper-c27b6911.js";const P=["value"],V={__name:"TextArea",props:["modelValue"],emits:["update:modelValue"],setup(v,{expose:f}){const _=N(null);return C(()=>{_.value.hasAttribute("autofocus")&&_.value.focus()}),f({focus:()=>_.value.focus()}),(h,b)=>(u(),i("textarea",{class:"border-gray-300 focus:border-emerald-600 focus:ring-emerald-600 rounded-md shadow-sm",value:v.modelValue,onInput:b[0]||(b[0]=y=>h.$emit("update:modelValue",y.target.value)),ref_key:"input",ref:_},null,40,P))}},T={class:"pt-8 pb-2"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},j={class:"p-4 sm:p-8 bg-white shadow sm:rounded-lg"},D=r("header",null,[r("h2",{class:"text-lg font-medium text-gray-900"},"Whatsapp Blasting"),r("p",{class:"mt-1 text-sm text-gray-600"}," Send whatsapp ")],-1),E=["disabled","value"],L={key:0},z={key:0},G=r("option",{value:"message"},"Message",-1),J=r("option",{value:"photo"},"Photo",-1),K={key:1},Q={key:2},R={key:0,class:"pt-5"},X={key:1,class:"pt-5"},Y={class:"flex items-center gap-4"},me={__name:"Index",props:{whatsappNumber:Object},setup(v){const f=v;function _(){window.history.back()}function h(m){m.target.files&&(e.file_upload=m.target.files[0])}function b(m){const t=m.target.value;e.port=f.whatsappNumber[t-1].port,console.log(f.whatsappNumber[t-1].name,f.whatsappNumber[t-1].port,e.port)}function y(m){const t=m.target.value,o=t.indexOf(",");let l=[];o!=-1?l=t.split(","):l=t.split(/\s+/);for(let n=0;n<l.length;n++){const x=l[n];x.substring(0,1)==="0"?l[n]="6"+l[n]:x.substring(0,1)==="1"?l[n]="60"+l[n]:l[n]=l[n]}e.array_number=l,console.log(t,l)}const e=B({message:"",option:"",file_upload:[],caption:"",view_once:!1,compress:!0,number:"",port:"",array_number:""});return(m,t)=>(u(),i(k,null,[a(s(U),{title:"Whatsapp Blasting"}),a(O,{auth:m.$page.props.auth},{default:g(()=>[r("div",T,[r("div",W,[r("div",j,[r("section",null,[D,r("form",{onSubmit:t[6]||(t[6]=q(o=>s(e).post(m.route("whatsapp.store")),["prevent"])),enctype:"multipart/form-data",class:"mt-6 space-y-6",onChange:h},[r("div",null,[a(d,{for:"number",value:"Blasting Number"}),a($,{id:"number",class:"mt-1 block w-full",modelValue:s(e).number,"onUpdate:modelValue":t[0]||(t[0]=o=>s(e).number=o),required:"",onChange:b},{default:g(()=>[(u(!0),i(k,null,A(f.whatsappNumber,o=>{var l,n;return u(),i("option",{disabled:(l=o.first_whatsapp_batches)==null?void 0:l.isActive,value:o.id},[w(M(o.name)+" ",1),(n=o.first_whatsapp_batches)!=null&&n.isActive?(u(),i("span",L," - number blasting in progress")):c("",!0)],8,E)}),256))]),_:1},8,["modelValue"]),a(p,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),s(e).number==="3"?(u(),i("div",z,[a(d,{for:"array_number",value:"Number"}),a(V,{id:"array_number",type:"text",class:"mt-1 block w-full",modelValue:s(e).array_number,"onUpdate:modelValue":t[1]||(t[1]=o=>s(e).array_number=o),rows:"1",required:"",onChange:y},null,8,["modelValue"]),a(p,{class:"mt-2",message:s(e).errors.array_number},null,8,["message"])])):c("",!0),r("div",null,[a(d,{for:"option",value:"Blasting Option"}),a($,{id:"option",class:"mt-1 block w-full",modelValue:s(e).option,"onUpdate:modelValue":t[2]||(t[2]=o=>s(e).option=o),required:""},{default:g(()=>[G,J]),_:1},8,["modelValue"]),a(p,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),s(e).option==="message"?(u(),i("div",K,[a(d,{for:"message",value:"Message"}),a(V,{id:"message",type:"text",class:"mt-1 block w-full",modelValue:s(e).message,"onUpdate:modelValue":t[3]||(t[3]=o=>s(e).message=o),required:""},null,8,["modelValue"]),a(p,{class:"mt-2",message:s(e).errors.message},null,8,["message"])])):c("",!0),["photo","video"].indexOf(s(e).option)>-1?(u(),i("div",Q,[r("div",null,[a(d,{for:"message",value:"Message"}),a(V,{id:"message",type:"text",class:"mt-1 block w-full",modelValue:s(e).message,"onUpdate:modelValue":t[4]||(t[4]=o=>s(e).message=o),required:""},null,8,["modelValue"]),a(p,{class:"mt-2",message:s(e).errors.message},null,8,["message"])]),s(e).option==="photo"?(u(),i("div",R,[a(d,{for:"file_upload",value:"Image"}),a(H,{id:"file_upload",type:"file",class:"mt-1 block w-full",accept:"image/*"}),a(p,{class:"mt-2",file_upload:s(e).errors.file_upload},null,8,["file_upload"])])):c("",!0),s(e).option==="video"?(u(),i("div",X,[a(d,{for:"file_upload",value:"Video"}),a(S,{id:"file_upload",type:"file",class:"mt-1 block w-full",modelValue:s(e).file_upload,"onUpdate:modelValue":t[5]||(t[5]=o=>s(e).file_upload=o),accept:"video/*"},null,8,["modelValue"]),a(p,{class:"mt-2",file_upload:s(e).errors.file_upload},null,8,["file_upload"])])):c("",!0)])):c("",!0),r("div",Y,[a(F,{disabled:s(e).processing},{default:g(()=>[w("Send")]),_:1},8,["disabled"]),a(I,{onClick:_},{default:g(()=>[w(" Cancel ")]),_:1})])],32)])])])])]),_:1},8,["auth"])],64))}};export{me as default};
